import{r as b,j as e,Y as w}from"./app-a1LUiKE1.js";import{H as v,a as S,F as k}from"./HighlightSection-DwFUp7p2.js";import{F as C,a as O,b as P,c as _,d as J,e as F,f as I}from"./index-CAPkruEO.js";import{s as E}from"./index-BctFJj0Y.js";import{P as $,A as z,a as A,C as B,R as M}from"./About-CpRkAyP6.js";function D({allprod:r}){const n=b.useRef(null),[i,c]=b.useState(!0),[p,x]=b.useState({}),d=s=>{const t=n.current;if(!t)return;const h=t.offsetWidth;t.scrollBy({left:s==="next"?h:-h,behavior:"smooth"})},l=[e.jsx(P,{}),e.jsx(_,{}),e.jsx(J,{}),e.jsx(F,{})],u=r.map(s=>{let t=[],h=[],m=[];try{t=typeof s.image=="string"?JSON.parse(s.image):s.image}catch{}try{h=typeof s.features=="string"?JSON.parse(s.features):s.features}catch{}try{m=typeof s.badge=="string"?JSON.parse(s.badge):s.badge}catch{}return{id:s.id,title:s.title,location:s.location,price:s.price,image:(t==null?void 0:t[0])??null,features:h??[],badge:m??[],popular:!!s.popular,date:s.date,tipe:s.tipe}});b.useEffect(()=>{const s=setTimeout(()=>{c(!1)},1e3);return()=>clearTimeout(s)},[]);const o=s=>{x(t=>({...t,[s]:!0}))},f=s=>{x(t=>({...t,[s]:!1}))};return e.jsxs("section",{id:"artikel",className:"py-10 px-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Similar Properties"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[!i&&u.length>3&&e.jsx("button",{onClick:()=>d("prev"),className:"absolute left-0 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full z-10 hover:bg-opacity-70",children:"◀"}),e.jsxs("div",{ref:n,className:"flex overflow-x-auto gap-6 scroll-smooth transition-all duration-300 pb-4",style:{scrollbarWidth:"auto",msOverflowStyle:"auto"},children:[e.jsx("style",{children:`
                        div::-webkit-scrollbar {
                            height: 8px;
                        }
                        div::-webkit-scrollbar-thumb {
                            background-color: rgba(0, 0, 0, 0.3);
                            border-radius: 8px;
                        }
                    `}),i?[...Array(3)].map((s,t)=>e.jsx("div",{className:"flex-shrink-0 w-full sm:w-1/2 lg:w-1/3",children:e.jsx($,{})},`skeleton-${t}`)):u.map(s=>{const t=p[s.id]!==!1,h=s.image!==null;return e.jsxs("div",{className:"flex-shrink-0 w-full sm:w-1/2 lg:w-1/3 bg-white rounded-lg shadow-md overflow-hidden relative",children:[s.badge.length>0&&e.jsx("div",{className:"absolute z-10 p-3 flex gap-2",children:s.badge.map((m,j)=>e.jsx("span",{className:"bg-blue-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow",children:m},j))}),e.jsxs(w,{href:E("products.show",s.id),className:"block",children:[!t||!h?e.jsx("div",{className:"h-52 bg-gray-200 animate-pulse w-full"}):e.jsx("div",{className:"h-52 bg-cover bg-center w-full",style:{backgroundImage:`url(${s.image})`},children:e.jsx("img",{src:s.image,alt:s.title,className:"hidden",onLoad:()=>o(s.id),onError:()=>f(s.id)})}),s.popular&&e.jsx("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:e.jsx(C,{})})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:s.title}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(O,{}),s.location]}),e.jsx("span",{className:"font-semibold text-blue-600 text-sm whitespace-nowrap",children:typeof s.price=="number"?s.price.toLocaleString("en-US",{style:"currency",currency:"USD"}):s.price})]}),e.jsx("hr",{className:"h-1"}),e.jsx("div",{className:"flex justify-between gap-2 mt-2",children:s.features.map((m,j)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{children:l[j%l.length]}),e.jsx("span",{children:m})]},j))})]})]},s.id)})]}),!i&&u.length>3&&e.jsx("button",{onClick:()=>d("next"),className:"absolute right-0 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full z-10 hover:bg-opacity-70",children:"▶"})]})]})}function L({mainImage:r,changeImage:n,DetailProd:i}){const c=i[0].image.map((o,f)=>({src:`/storage/${o}`,alt:`Gambar ${f+1}`})),[p,x]=b.useState(null),d=()=>{p!==null&&x(o=>(o-1+c.length)%c.length)},l=()=>{p!==null&&x(o=>(o+1)%c.length)},u=()=>{x(null)};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:`/storage/${r}`,alt:"Rumah Modern Minimalis",className:"w-full max-h-[500px] object-cover rounded-lg shadow"}),e.jsx("div",{className:"flex gap-4 flex-wrap justify-center",children:c.map((o,f)=>e.jsx("img",{src:o.src,alt:o.alt,className:"w-20 h-20 object-cover rounded cursor-pointer border hover:ring-2 ring-[#8B5E4D] transition",onClick:()=>x(f)},f))}),p!==null&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",onClick:u,children:e.jsxs("div",{className:"relative max-w-[90vw] max-h-[90vh] flex items-center justify-center",onClick:o=>o.stopPropagation(),children:[e.jsx("button",{onClick:d,className:"absolute left-2 top-1/2 -translate-y-1/2 text-white text-3xl font-bold px-3 py-1 hover:text-[#8B5E4D] z-10",children:"‹"}),e.jsx("img",{src:c[p].src,alt:c[p].alt,className:"max-w-full max-h-full object-contain rounded shadow-lg"}),e.jsx("button",{onClick:l,className:"absolute right-2 top-1/2 -translate-y-1/2 text-white text-3xl font-bold px-3 py-1 hover:text-[#8B5E4D] z-10",children:"›"}),e.jsx("button",{onClick:u,className:"absolute top-2 right-2 text-white text-2xl font-bold hover:text-red-400",children:"✕"})]})})]})}function R({users:r,DetailProd:n}){return e.jsxs("section",{className:"w-full ",children:[e.jsx("div",{className:"w-full max-w-4xl mx-auto mb-6",children:e.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg h-64 sm:h-80 md:h-[400px]",children:e.jsx("iframe",{src:n[0].maps,width:"100%",height:"100%",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"w-full h-full border-0"})})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:`https://wa.me/${r[0].nowhatsap}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 rounded-full shadow transition duration-300 m-2",children:"Contact via WhatsApp"})})]})}function H({activeTab:r,openTab:n,DetailProd:i}){const c=JSON.parse(i[0].properti_detail),p=JSON.parse(i[0].properti_fasilitas),x=JSON.parse(i[0].properti_pembayaran);return e.jsxs("div",{className:"w-full max-w-5xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[e.jsx("button",{onClick:()=>n("detail"),className:`px-4 py-2 rounded-full font-medium transition ${r==="detail"?"bg-[#8B5E4D] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Property Details"}),e.jsx("button",{onClick:()=>n("fasilitas"),className:`px-4 py-2 rounded-full font-medium transition ${r==="fasilitas"?"bg-[#8B5E4D] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Surrounding Facilities"}),e.jsx("button",{onClick:()=>n("pembayaran"),className:`px-4 py-2 rounded-full font-medium transition ${r==="pembayaran"?"bg-[#8B5E4D] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Payment method"})]}),e.jsxs("div",{className:"space-y-4 text-gray-800",children:[r==="detail"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Complete Description"}),e.jsx("p",{className:"mb-3",children:i[0].deskripsi}),c.map((d,l)=>e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:e.jsx("li",{children:d},l)},l))]}),r==="fasilitas"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Surrounding Facilities"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[p].map((d,l)=>e.jsx("div",{className:"bg-gray-100 text-gray-700 rounded-lg p-3 text-center shadow-sm",children:d},l))})]}),r==="pembayaran"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Payment Method"}),x.map((d,l)=>e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:e.jsx("li",{children:d},l)},l)),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("br",{}),"Contact us via WhatsApp for more info."]})]})]})]})}function K({DetailProd:r,users:n,allprod:i,Rating:c,Blog:p,Medsos:x,Content:d}){const l=r.map(a=>({id:a.id,title:a.title,location:a.location,price:a.price,image:typeof a.image=="string"?JSON.parse(a.image):a.image,features:typeof a.features=="string"?JSON.parse(a.features):a.features,badge:typeof a.badge=="string"?JSON.parse(a.badge):a.badge,popular:!!a.popular,date:a.date,tipe:a.tipe})),u=i.map(a=>{const g=typeof a.image=="string"?JSON.parse(a.image):a.image;return{id:a.id,title:a.title,location:a.location,deskripsi:a.deskripsi,price:a.price,popular:a.popular,date:a.date,tipe:a.tipe,image:(g==null?void 0:g.map(N=>`/storage/${N}`))??[],features:typeof a.features=="string"?JSON.parse(a.features):a.features,badge:typeof a.badge=="string"?JSON.parse(a.badge):a.badge,properti_detail:typeof a.properti_detail=="string"?JSON.parse(a.properti_detail):a.properti_detail,properti_pembayaran:typeof a.properti_pembayaran=="string"?JSON.parse(a.properti_pembayaran):a.properti_pembayaran,properti_fasilitas:typeof a.properti_fasilitas=="string"?JSON.parse(a.properti_fasilitas):a.properti_fasilitas,maps:a.maps}}),o=x.map(a=>{const g=typeof a.icon=="string"?JSON.parse(a.icon):a.icon;return{id:a.id,username:a.username,medsos:a.medsos,icon:g,image:g!=null&&g[0]?`/storage/${g[0]}`:null,kategori:a.kategori}}),f=d.map(a=>({id:a.id,kategori:a.kategori,content:typeof a.content=="string"?JSON.parse(a.content):a.content})),[s,t]=b.useState(l[0].image[0]),[h,m]=b.useState("detail"),j=a=>{t(a)},y=a=>{m(a)};return e.jsxs(e.Fragment,{children:[e.jsx(v,{}),e.jsxs("main",{className:"pt-20",children:[e.jsx("a",{href:`https://wa.me/${n[0].nowhatsap}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-[50%] right-5 bg-green-500 hover:bg-green-600 text-white p-3 rounded-full shadow-lg z-50",children:e.jsx(I,{size:24})}),e.jsx(S,{Content:f}),e.jsx("section",{id:"produk",className:"py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-10",children:"Property Details"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:l[0].badge.map((a,g)=>e.jsx("span",{className:"px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full font-semibold",children:a},g))}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:r[0].title}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 mb-10",children:[e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsx(L,{mainImage:s,changeImage:j,DetailProd:l})}),e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsx(R,{users:n,DetailProd:r})})]}),e.jsx(H,{activeTab:h,openTab:y,DetailProd:r})]})}),e.jsx(D,{allprod:u}),e.jsx(z,{}),e.jsx(A,{Blog:p}),e.jsx(B,{users:n}),e.jsx(M,{Rating:c})]}),e.jsx(k,{users:n,Medsos:o})]})}export{K as default};
