import{q as m,v as u,r as x,j as e,m as b}from"./app-CSlfTKLv.js";import{Q as h}from"./QuillEditor-BABNaymi.js";import{A as j}from"./AppLayout-DX8QSxwY.js";import"./quill.snow-xkQJi1wu.js";import"./index-BctFJj0Y.js";import"./index-BxsmOkia.js";function D(){const{blog:i}=m().props,{data:l,setData:a,processing:d,errors:n}=u({title:i.title||"",description:i.description||"",content:i.content||"",thumbnail:null}),[o,c]=x.useState(i.thumbnail?`/storage/thumbnails/${i.thumbnail}`:null),p=s=>{s.preventDefault();const t=new FormData;t.append("title",l.title),t.append("description",l.description),t.append("content",l.content),l.thumbnail&&t.append("thumbnail",l.thumbnail),t.append("_method","PUT"),b.post(route("blogs.update",i.id),t,{forceFormData:!0})};return e.jsx(j,{children:e.jsxs("form",{onSubmit:p,className:"max-w-3xl mx-auto p-4 space-y-4 bg-white shadow rounded",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Blog"}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold",children:"Judul"}),e.jsx("input",{type:"text",value:l.title,onChange:s=>a("title",s.target.value),className:"border w-full px-3 py-2 rounded"}),n.title&&e.jsx("div",{className:"text-red-500",children:n.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold",children:"Deskripsi"}),e.jsx("input",{type:"text",value:l.description,onChange:s=>a("description",s.target.value),className:"border w-full px-3 py-2 rounded"}),n.description&&e.jsx("div",{className:"text-red-500",children:n.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold",children:"Thumbnail Baru (Opsional)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:s=>{var r;const t=(r=s.target.files)==null?void 0:r[0];t&&(a("thumbnail",t),c(URL.createObjectURL(t)))},className:"border w-full px-3 py-2 rounded"}),o&&e.jsx("img",{src:o,alt:"Thumbnail",className:"mt-2 w-32 h-32 object-cover border rounded"}),n.thumbnail&&e.jsx("div",{className:"text-red-500",children:n.thumbnail})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold",children:"Konten"}),e.jsx(h,{value:l.content,onChange:s=>a("content",s)}),n.content&&e.jsx("div",{className:"text-red-500",children:n.content})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Update"})})]})})}export{D as default};
