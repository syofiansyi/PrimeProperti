import{r as y,j as e,Y as v}from"./app-D1CPe9kB.js";import{H as w,a as k,F as S}from"./HighlightSection-yUkW1gNJ.js";import{F as C,a as _,b as M,c as O,d as I,e as J,f as P}from"./index-Dec3uIhJ.js";import{s as E}from"./index-BctFJj0Y.js";import{P as F,A,a as B,C as $,R as L}from"./About-D6DpgqtW.js";function z({allprod:r}){const c=y.useRef(null),[d,o]=y.useState(!0),[x,p]=y.useState({}),g=a=>{const t=c.current;if(!t)return;const h=t.offsetWidth;t.scrollBy({left:a==="next"?h:-h,behavior:"smooth"})},n=[e.jsx(M,{}),e.jsx(O,{}),e.jsx(I,{}),e.jsx(J,{})],m=r.map(a=>{let t=[],h=[],l=[];try{t=typeof a.image=="string"?JSON.parse(a.image):a.image}catch{}try{h=typeof a.features=="string"?JSON.parse(a.features):a.features}catch{}try{l=typeof a.badge=="string"?JSON.parse(a.badge):a.badge}catch{}return{id:a.id,title:a.title,location:a.location,price:a.price,image:(t==null?void 0:t[0])??null,features:h??[],badge:l??[],popular:!!a.popular,date:a.date,tipe:a.tipe}});y.useEffect(()=>{const a=setTimeout(()=>{o(!1)},1e3);return()=>clearTimeout(a)},[]);const b=a=>{p(t=>({...t,[a]:!0}))},j=a=>{p(t=>({...t,[a]:!1}))};return e.jsxs("section",{id:"artikel",className:"py-10 px-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Similar Properties"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4",children:[!d&&m.length>3&&e.jsx("button",{onClick:()=>g("prev"),className:"absolute left-0 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full z-10 hover:bg-opacity-70",children:"◀"}),e.jsxs("div",{ref:c,className:"flex overflow-x-auto gap-6 scroll-smooth transition-all duration-300 pb-4",style:{scrollbarWidth:"auto",msOverflowStyle:"auto"},children:[e.jsx("style",{children:`
                        div::-webkit-scrollbar {
                            height: 8px;
                        }
                        div::-webkit-scrollbar-thumb {
                            background-color: rgba(0, 0, 0, 0.3);
                            border-radius: 8px;
                        }
                    `}),d?[...Array(3)].map((a,t)=>e.jsx("div",{className:"flex-shrink-0 w-full sm:w-1/2 lg:w-1/3",children:e.jsx(F,{})},`skeleton-${t}`)):m.map(a=>{var l;const t=x[a.id]!==!1,h=a.image!==null;return e.jsxs("div",{className:"flex-shrink-0 w-full sm:w-1/2 lg:w-1/3 bg-white rounded-lg shadow-md overflow-hidden relative",children:[a.badge.length>0&&e.jsx("div",{className:"absolute z-10 p-3 flex gap-2",children:a.badge.map((i,f)=>e.jsx("span",{className:"bg-blue-600 text-white text-xs font-semibold px-3 py-1 rounded-full shadow",children:i},f))}),e.jsxs(v,{href:E("products.show",a.id),className:"block",children:[!t||!h?e.jsx("div",{className:"h-52 bg-gray-200 animate-pulse w-full"}):e.jsx("div",{className:"h-52 bg-cover bg-center w-full",style:{backgroundImage:`url(${a.image})`},children:e.jsx("img",{src:a.image,alt:a.title,className:"hidden",onLoad:()=>b(a.id),onError:()=>j(a.id)})}),a.popular&&e.jsx("span",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:e.jsx(C,{})})]}),e.jsxs("div",{className:"p-4 space-y-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:a.title}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_,{}),a.location]}),e.jsxs("span",{className:"font-semibold text-blue-600 text-sm whitespace-nowrap",children:["Rp ",(l=a.price)==null?void 0:l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")]})]}),e.jsx("hr",{className:"h-1"}),e.jsx("div",{className:"flex justify-between gap-2 mt-2",children:a.features.map((i,f)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{children:n[f%n.length]}),e.jsx("span",{children:i})]},f))})]})]},a.id)})]}),!d&&m.length>3&&e.jsx("button",{onClick:()=>g("next"),className:"absolute right-0 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full z-10 hover:bg-opacity-70",children:"▶"})]})]})}function D({mainImage:r,changeImage:c,DetailProd:d}){const o=d[0].image.map((l,i)=>({src:`/storage/${l}`,alt:`Gambar ${i+1}`})),[x,p]=y.useState(null),[g,n]=y.useState(!1),m=5,b=()=>{x!==null&&p(l=>(l-1+o.length)%o.length)},j=()=>{x!==null&&p(l=>(l+1)%o.length)},a=()=>{p(null)},t=()=>{n(!0)},h=()=>{n(!1)};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:`/storage/${r}`,alt:"Rumah Modern Minimalis",className:"w-full h-[300px] object-cover rounded-lg shadow-lg"}),e.jsx("div",{className:"flex gap-4 flex-wrap justify-center",children:o.slice(0,m).map((l,i)=>{const f=i===m-1&&o.length>m;return e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l.src,alt:l.alt,className:`w-24 h-24 object-cover rounded-lg cursor-pointer border-2 hover:ring-4 ring-[#8B5E4D] transition-all duration-300 ${f?"opacity-80":""}`,onClick:()=>f?t():p(i)}),f&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:e.jsxs("span",{className:"text-white font-bold text-xl",children:["+",o.length-m]})})]},i)})}),x!==null&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx("button",{onClick:b,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white text-5xl font-bold px-4 py-2 hover:text-[#8B5E4D] z-10 bg-black bg-opacity-50 rounded-full",children:"‹"}),e.jsx("div",{className:"w-full h-full flex items-center justify-center p-8",children:e.jsx("img",{src:o[x].src,alt:o[x].alt,className:"max-w-full max-h-full object-contain rounded-lg shadow-xl"})}),e.jsx("button",{onClick:j,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white text-5xl font-bold px-4 py-2 hover:text-[#8B5E4D] z-10 bg-black bg-opacity-50 rounded-full",children:"›"}),e.jsx("button",{onClick:a,className:"absolute top-6 right-6 text-white text-3xl font-bold hover:text-red-400 bg-black bg-opacity-50 rounded-full w-12 h-12 flex items-center justify-center",children:"✕"}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 bg-black bg-opacity-70 text-white px-4 py-2 rounded-full text-lg",children:[x+1," / ",o.length]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[95vh] overflow-y-auto p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold",children:["Semua Gambar (",o.length,")"]}),e.jsx("button",{onClick:h,className:"text-gray-600 hover:text-gray-900 text-3xl bg-gray-100 hover:bg-gray-200 rounded-full w-10 h-10 flex items-center justify-center",children:"✕"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:o.map((l,i)=>e.jsxs("div",{className:"cursor-pointer group transition-all duration-300",onClick:()=>{p(i),h()},children:[e.jsxs("div",{className:"relative overflow-hidden rounded-lg border-2 border-gray-200 group-hover:border-[#8B5E4D] transition-all",children:[e.jsx("img",{src:l.src,alt:l.alt,className:"w-full h-48 object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"Lihat"})})]}),e.jsxs("p",{className:"text-center text-md mt-2 font-medium",children:["Gambar ",i+1]})]},i))})]})})]})}function R({users:r,DetailProd:c}){return e.jsxs("section",{className:"w-full ",children:[e.jsx("div",{className:"w-full max-w-4xl mx-auto mb-6",children:e.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg h-64 sm:h-80 md:h-[400px]",children:e.jsx("iframe",{src:c[0].maps,width:"100%",height:"100%",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"w-full h-full border-0"})})}),e.jsx("div",{className:"text-center",children:e.jsx("a",{href:`https://wa.me/${r[0].nowhatsap}`,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 rounded-full shadow transition duration-300 m-2",children:"Contact via WhatsApp"})})]})}function H({activeTab:r,openTab:c,DetailProd:d}){const o=JSON.parse(d[0].properti_detail),x=JSON.parse(d[0].properti_fasilitas),p=JSON.parse(d[0].properti_pembayaran);return e.jsxs("div",{className:"w-full max-w-5xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:[e.jsx("button",{onClick:()=>c("detail"),className:`px-4 py-2 rounded-full font-medium transition ${r==="detail"?"bg-[#8B5E4D] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Property Details"}),e.jsx("button",{onClick:()=>c("fasilitas"),className:`px-4 py-2 rounded-full font-medium transition ${r==="fasilitas"?"bg-[#8B5E4D] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Surrounding Facilities"}),e.jsx("button",{onClick:()=>c("pembayaran"),className:`px-4 py-2 rounded-full font-medium transition ${r==="pembayaran"?"bg-[#8B5E4D] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Payment method"})]}),e.jsxs("div",{className:"space-y-4 text-gray-800",children:[r==="detail"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Complete Description"}),e.jsx("p",{className:"mb-3",children:d[0].deskripsi}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:o.map((g,n)=>e.jsx("div",{className:"bg-gray-100 text-gray-700 rounded-lg p-3 text-center shadow-sm",children:g},n))})]}),r==="fasilitas"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Surrounding Facilities"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:x.map((g,n)=>e.jsx("div",{className:"bg-gray-100 text-gray-700 rounded-lg p-3 text-center shadow-sm",children:g},n))})]}),r==="pembayaran"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Payment Method"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:p.map((g,n)=>e.jsx("div",{className:"bg-gray-100 text-gray-700 rounded-lg p-3 text-center shadow-sm",children:g},n))}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("br",{}),"Contact us via WhatsApp for more info."]})]})]})]})}function U({DetailProd:r,users:c,allprod:d,Rating:o,Blog:x,Medsos:p,Content:g}){const n=r.map(s=>({id:s.id,title:s.title,location:s.location,price:s.price,image:typeof s.image=="string"?JSON.parse(s.image):s.image,features:typeof s.features=="string"?JSON.parse(s.features):s.features,badge:typeof s.badge=="string"?JSON.parse(s.badge):s.badge,popular:!!s.popular,date:s.date,tipe:s.tipe})),m=d.map(s=>{const u=typeof s.image=="string"?JSON.parse(s.image):s.image;return{id:s.id,title:s.title,location:s.location,deskripsi:s.deskripsi,price:s.price,popular:s.popular,date:s.date,tipe:s.tipe,image:(u==null?void 0:u.map(N=>`/storage/${N}`))??[],features:typeof s.features=="string"?JSON.parse(s.features):s.features,badge:typeof s.badge=="string"?JSON.parse(s.badge):s.badge,properti_detail:typeof s.properti_detail=="string"?JSON.parse(s.properti_detail):s.properti_detail,properti_pembayaran:typeof s.properti_pembayaran=="string"?JSON.parse(s.properti_pembayaran):s.properti_pembayaran,properti_fasilitas:typeof s.properti_fasilitas=="string"?JSON.parse(s.properti_fasilitas):s.properti_fasilitas,maps:s.maps}}),b=p.map(s=>{const u=typeof s.icon=="string"?JSON.parse(s.icon):s.icon;return{id:s.id,username:s.username,medsos:s.medsos,icon:u,image:u!=null&&u[0]?`/storage/${u[0]}`:null,kategori:s.kategori}}),j=g.map(s=>({id:s.id,kategori:s.kategori,content:typeof s.content=="string"?JSON.parse(s.content):s.content})),[a,t]=y.useState(n[0].image[0]),[h,l]=y.useState("detail"),i=s=>{t(s)},f=s=>{l(s)};return e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsxs("main",{className:"pt-20",children:[e.jsx("a",{href:`https://wa.me/${c[0].nowhatsap}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-[50%] right-5 bg-green-500 hover:bg-green-600 text-white p-3 rounded-full shadow-lg z-50",children:e.jsx(P,{size:24})}),e.jsx(k,{Content:j,Medsos:b}),e.jsx("section",{id:"produk",className:"py-12 px-4 sm:px-6 lg:px-8 bg-gray-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-gray-800 mb-10",children:"Property Details"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n[0].badge.map((s,u)=>e.jsx("span",{className:"px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full font-semibold",children:s},u))}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:r[0].title}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 mb-10",children:[e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsx(D,{mainImage:a,changeImage:i,DetailProd:n})}),e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsx(R,{users:c,DetailProd:r})})]}),e.jsx(H,{activeTab:h,openTab:f,DetailProd:r})]})}),e.jsx(z,{allprod:m}),e.jsx(A,{Content:j,Medsos:b}),e.jsx(B,{Blog:x}),e.jsx($,{users:c,Content:j,Medsos:b}),e.jsx(L,{Rating:o})]}),e.jsx(S,{users:c,Medsos:b,Content:j})]})}export{U as default};
